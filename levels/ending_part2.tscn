[gd_scene load_steps=103 format=2]

[ext_resource path="res://music/wind.ogg" type="AudioStream" id=1]
[ext_resource path="res://objs/Ball.tscn" type="PackedScene" id=2]
[ext_resource path="res://CREAMPUF.TTF" type="DynamicFontData" id=3]
[ext_resource path="res://textures/tower_secret_bg.png" type="Texture" id=4]
[ext_resource path="res://textures/tileset_fudgemountain.png" type="Texture" id=5]
[ext_resource path="res://textures/one_way.png" type="Texture" id=6]
[ext_resource path="res://Boo City.ttf" type="DynamicFontData" id=7]
[ext_resource path="res://textures/cutscene_text_box.png" type="Texture" id=8]
[ext_resource path="res://sfx/snd_brulo_yay2.wav" type="AudioStream" id=9]
[ext_resource path="res://sfx/telephone.ogg" type="AudioStream" id=10]
[ext_resource path="res://textures/hp_card.png" type="Texture" id=11]
[ext_resource path="res://textures/theamuletinquestion.png" type="Texture" id=12]
[ext_resource path="res://sfx/glass.ogg" type="AudioStream" id=13]
[ext_resource path="res://music/gameover.ogg" type="AudioStream" id=14]
[ext_resource path="res://sfx/fall.ogg" type="AudioStream" id=15]
[ext_resource path="res://music/win.ogg" type="AudioStream" id=16]
[ext_resource path="res://textures/badluck.png" type="Texture" id=17]
[ext_resource path="res://music/grulo.ogg" type="AudioStream" id=18]
[ext_resource path="res://textures/chip2.png" type="Texture" id=19]
[ext_resource path="res://textures/grulo.png" type="Texture" id=20]
[ext_resource path="res://textures/grulo_beam.png" type="Texture" id=21]
[ext_resource path="res://textures/treasure_2.png" type="Texture" id=22]
[ext_resource path="res://textures/treasure_1.png" type="Texture" id=23]
[ext_resource path="res://textures/treasure_0.png" type="Texture" id=24]
[ext_resource path="res://objs/Chip.tscn" type="PackedScene" id=25]
[ext_resource path="res://objs/Pause.tscn" type="PackedScene" id=26]
[ext_resource path="res://objs/Disk.tscn" type="PackedScene" id=27]
[ext_resource path="res://objs/Anton.tscn" type="PackedScene" id=28]
[ext_resource path="res://sfx/tally.wav" type="AudioStream" id=29]
[ext_resource path="res://textures/treasure_3.png" type="Texture" id=30]
[ext_resource path="res://textures/treasure_pic.png" type="Texture" id=31]
[ext_resource path="res://sfx/shake.ogg" type="AudioStream" id=32]
[ext_resource path="res://sfx/totem1.ogg" type="AudioStream" id=33]
[ext_resource path="res://sfx/final_win.ogg" type="AudioStream" id=34]
[ext_resource path="res://objs/BOOM.tscn" type="PackedScene" id=35]
[ext_resource path="res://sfx/punch.wav" type="AudioStream" id=36]

[sub_resource type="GDScript" id=6]
resource_name = "Main"
script/source = "extends Node2D

var ball_speed = 350

var old_bricks = 0
var old_score = 0

var total_bricks = 0

var texts = false

var amount = -300

var lines = [
	\"What a waste of time!\",
	\"All that work...\",
	\"For some pointless rock!\",
	\"Finally, I'm free!\",
	\"Thanks there, sport. I've been trapped in that thing for years!\",
	\"Uh... yeah. No problem.\",
	\"My name is [color=yellow]Grulo[/color] by the way.\",
	\"I can't exactly remember how I got trapped in that amulet...\",
	\"But I was trying to find the [color=yellow]treasure[/color] I left for my idiot grandson, [color=yellow]Brulo[/color].\",
	\"He lost ALL of it!! He can't seem to hold onto anything!\",
	\"Hold on... have [color=red]you[/color] seen any of it?\",
	\"If you have, I might be able to use my strength to [color=yellow]give you something worthwhile![/color]\",
	\"Y'know, depending on how much you have.\",
	\"So... what do you wa-\",
	\"Beer.\",
	\"Good choice!\",
	\"So! Do you have any [color=yellow]treasure?[/color]\",
	\"Ok it's done.\",
	\"...\",
	\"What happened?\",
	\"I left you a [color=yellow]box o' booze[/color] at your apartment.\",
	\"What, did you want to carry it home?\",
	\"Good point.\",
	\"Well, thanks for that.\",
	\"Thanks for freeing me!\",
	\"Goodbye!\"
]

var none = [
	\"Sorry, I haven't seen any of it.\",
	\"Really? Not a single one?\",
	\"Well I guarantee you that they're out there somewhere.\",
	\"In fact, if I remember correctly...\",
	\"I think [color=yellow]Brulo[/color] just threw one out!\",
	\"Maybe check behind Brulo's?\",
	\"... well I don't think I can do much for you, but I'll try...\",
]

var some = [
	\"Well... I got something.\",
	\"All right! Better than nothing!\",
	\"Though the rest are out there, somewhere...\",
	\"But I'll see what I can do with this...\"
]

var all = [
	\"Wasn't easy, but I found four of 'em.\",
	\"Really?! That's all of them!\",
	\"I hope it wasn't too much of a pain to get 'em all.\",
	\"Though you just made a dead guy pretty damn happy.\",
	\"Now I can give you something great!\"
]

var line = -1
var speed = 0.05

var ready = false

var move = false

signal progress

var treasures = 0

func _ready():
	$UI/BlackBars/AnimationPlayer.play(\"in\")
	if Globals.treasure_0: treasures += 1
	if Globals.treasure_1: treasures += 1
	if Globals.treasure_2: treasures += 1
	if Globals.treasure_3: treasures += 1
	print(treasures)	
	
	
	$Grulo/AnimationPlayer.play(\"float\")
	get_tree().paused = false
	Transitions.grow_in()
	$UI/Main/TimeBonus/AnimationPlayer.play(\"RESET\")
	set_physics_process(false)
	VisualServer.set_default_clear_color(Color(0, 0, 0))
	yield(get_tree().create_timer(1.5), \"timeout\")
	walk_in()
	#$UI/Intro/AnimationPlayer.play(\"intro\")

func finish():
	$Anton.off_screen_die = false
	$Camera2D/AnimationPlayer.stop(false)
	$Music/Tween.interpolate_property($Music, \"volume_db\", 0, -80, 3, Tween.TRANS_LINEAR)
	$Music/Tween.start()
	$Anton.state = 2
	yield($Music/Tween, \"tween_completed\")
	$Music/Tween.interpolate_property($Camera2D, \"global_position\", $Camera2D.global_position, $Anton.global_position, 1, Tween.TRANS_SINE, Tween.EASE_IN_OUT)
	$Music/Tween.start()
	yield($Music/Tween, \"tween_completed\")
	$Anton.celebrate()
	$Win.play()
	yield(get_tree().create_timer(1), \"timeout\")
	texts = true
	set_physics_process(true)
	$UI/Goal/AnimationPlayer.play(\"show_stats\")
	yield(get_tree().create_timer(1), \"timeout\")
	$Anton.laugh = false
	yield($UI/Goal/AnimationPlayer, \"animation_finished\")
	texts = false
	$Camera2D/PlayerWalls.queue_free()

func show_bricks():
	$UI/Goal/Tween.interpolate_property(self, \"old_bricks\", old_bricks, Globals.bricks_broken, 1, Tween.TRANS_EXPO, Tween.EASE_OUT)
	$UI/Goal/Tween.start()

func show_score():
	$UI/Goal/Tween.interpolate_property(self, \"old_score\", old_score, $UI.score, 1, Tween.TRANS_EXPO, Tween.EASE_OUT)
	$UI/Goal/Tween.start()

func _physics_process(delta):
	if !texts:
		if move:
			$Anton.velocity = Vector2(amount,0)
	else:
		$UI/Goal/Bricks.bbcode_text = \"[center]Bricks Broken: [color=yellow]\" + str(floor(old_bricks))
		$UI/Goal/Bricks2.bbcode_text = \"[center]Final Score: [color=yellow]\" + str(floor(old_score))
	
	$Texture.rect_size.y = $Texture/RichTextLabel.rect_size.y + 16
	
	if Input.is_action_just_pressed(\"jump\") and ready:
		ready = false
		emit_signal(\"progress\")

func next_line(who, sp, sfx = null, pool=\"lines\"):
	speed = sp
	match who:
		0:
			$Texture.self_modulate = Color.red
		1:
			$Texture.self_modulate = Color.yellow
	line += 1
	print(line)
	$Texture/RichTextLabel.visible_characters = 0
	$Texture/RichTextLabel.bbcode_text = get(pool)[line]
	if sfx != null:
		$Audio.stream = sfx
		$Audio.play()
	for letter in $Texture/RichTextLabel.text:
		$Texture/RichTextLabel.visible_characters += 1
		yield(get_tree().create_timer(speed, false), \"timeout\")
	if get(pool)[line].right(get(pool)[line].length()-1) == \"-\":
		emit_signal(\"progress\")
	else:
		ready = true

func walk_in():
	$Anton.off_screen_die = false
	#$Music.play()
	#$BOOM.explode()
	$Anton.state = 2
	$Anton.anim_override = true
	$Anton/Sprite.flip_h = true
	$Anton/Sprite.play(\"move_sad\")
	set_physics_process(true)
	move = true
	$AnimationPlayer.play(\"textbox\")
	yield(get_tree().create_timer(1.5, false), \"timeout\")
	$Anton/Sprite.play(\"idle_sad\")
	move = false
	yield(get_tree().create_timer(1, false), \"timeout\")
	next_line(0, 0.05)
	yield(self, \"progress\")
	next_line(0, 0.05)
	yield(self, \"progress\")
	next_line(0, 0.05)
	$Anton/Sprite.play(\"stare\")
	yield(self, \"progress\")
	$Anton/Sprite.play(\"kick\")
	$AnimationPlayer.play(\"throw\")
	$Camera2D.add_trauma(0.5)
	yield(get_tree().create_timer(1, false), \"timeout\")
	$Anton/Sprite.play(\"idle_sad\")
	yield($AnimationPlayer, \"animation_finished\")
	amount = -100
	move = true
	$Anton/Sprite.play(\"move_sad\")
	$Music.stream = preload(\"res://music/grulo_intro.ogg\")
	yield(get_tree().create_timer(1, false), \"timeout\")
	move = false
	$Anton/Sprite.play(\"shock\")
	$AnimationPlayer.play(\"transform\")
	yield(get_tree().create_timer(3, false), \"timeout\")
	$Anton/Sprite.frame += 1
	yield($AnimationPlayer, \"animation_finished\")
	$Music2.play()
	## GRULO
	$AnimationPlayer.play(\"grulo_shake\")
	$Grulo.frame = 1
	yield(get_tree().create_timer(1, false), \"timeout\")
	$Grulo.frame = 2
	$AnimationPlayer.play(\"grulo_shake\")
	yield(get_tree().create_timer(2, false), \"timeout\")
	$AnimationPlayer.play(\"textbox\")
	$Grulo.frame = 3
	next_line(1,0.05)
	yield(self, \"progress\")
	next_line(1, 0.05)
	yield(self, \"progress\")
	$Anton/Sprite.play(\"lookingup\")
	next_line(0, 0.03)
	yield(self, \"progress\")
	next_line(1, 0.03)
	$Grulo.frame = 5
	yield(self, \"progress\")
	next_line(1, 0.03)
	$Grulo.frame = 6
	yield(self, \"progress\")
	next_line(1, 0.03)
	$Grulo.frame = 4
	yield(self, \"progress\")
	next_line(1, 0.03)
	$Grulo.frame = 3
	yield(self, \"progress\")
	next_line(1, 0.03)
	$Grulo.frame = 2
	yield(self, \"progress\")
	next_line(1, 0.03)
	$Grulo.frame = 7
	yield(self, \"progress\")
	next_line(1, 0.03)
	$Grulo.frame = 8
	yield(self, \"progress\")
	$Grulo.frame = 3
	next_line(1, 0.08)
	$Grulo.frame = 7
	yield(self, \"progress\")
	next_line(0, 0.03)
	yield(self, \"progress\")
	next_line(1, 0.03)
	$Grulo.frame = 3
	yield(self, \"progress\")
	next_line(1, 0.03)
	$Grulo.frame = 7
	yield(self, \"progress\")
	line = -1
	
	if treasures == 0:
		next_line(0, 0.03, null, \"none\")
		yield(self, \"progress\")
		show_treasure()
		yield(self, \"progress\")
		$Grulo.frame = 2
		next_line(1, 0.03, null, \"none\")
		yield(self, \"progress\")
		$Grulo.frame = 3
		next_line(1, 0.03, null, \"none\")
		yield(self, \"progress\")
		next_line(1, 0.03, null, \"none\")
		$Grulo.frame = 3
		yield(self, \"progress\")
		next_line(1, 0.03, null, \"none\")
		$Grulo.frame = 3
		yield(self, \"progress\")
		next_line(1, 0.03, null, \"none\")
		$Grulo.frame = 3
		yield(self, \"progress\")
		next_line(1, 0.03, null, \"none\")
		$Grulo.frame = 3
		yield(self, \"progress\")
	elif treasures < 4:
		next_line(0, 0.03, null, \"some\")
		yield(self, \"progress\")
		show_treasure()
		yield(self, \"progress\")
		next_line(1, 0.03, null, \"some\")
		$Grulo.frame = 3
		yield(self, \"progress\")
		next_line(1, 0.03, null, \"some\")
		yield(self, \"progress\")
		next_line(1, 0.03, null, \"some\")
		yield(self, \"progress\")
	else:
		next_line(0, 0.03, null, \"all\")
		yield(self, \"progress\")
		show_treasure()
		yield(self, \"progress\")
		next_line(1, 0.03, null, \"all\")
		$Grulo.frame = 3
		yield(self, \"progress\")
		next_line(1, 0.03, null, \"all\")
		$Grulo.frame = 7
		yield(self, \"progress\")
		next_line(1, 0.03, null, \"all\")
		$Grulo.frame = 5
		yield(self, \"progress\")
		next_line(1, 0.03, null, \"all\")
		$Grulo.frame = 3
		yield(self, \"progress\")
	
	print(\"FINALE\")
	$AnimationPlayer.play(\"super\")
	yield($AnimationPlayer, \"animation_finished\")
	line = 16
	$AnimationPlayer.play(\"textbox\")
	$Grulo.play(\"default\")
	$Grulo.frame = 7
	next_line(1, 0.03, null, \"lines\")
	yield(self, \"progress\")
	next_line(0, 0.08, null, \"lines\")
	yield(self, \"progress\")
	next_line(0, 0.03, null, \"lines\")
	yield(self, \"progress\")
	$Grulo.frame = 3
	next_line(1, 0.03, null, \"lines\")
	yield(self, \"progress\")
	next_line(1, 0.03, null, \"lines\")
	yield(self, \"progress\")
	next_line(0, 0.03, null, \"lines\")
	yield(self, \"progress\")
	next_line(0, 0.03, null, \"lines\")
	yield(self, \"progress\")
	next_line(1, 0.03, null, \"lines\")
	$Grulo.frame = 7
	yield(self, \"progress\")
	next_line(1, 0.03, null, \"lines\")
	$Grulo.frame = 3
	yield(self, \"progress\")
	$Grulo/AnimationPlayer.play(\"go_away\")
	$AnimationPlayer.play(\"hide_box\")
	yield(get_tree().create_timer(2, false), \"timeout\")
	$Anton.anim_override = false
	$Anton.celebrate()
	$Win2.play()
	yield(get_tree().create_timer(2, false), \"timeout\")
	amount = -400
	$Anton.laugh = false
	$Anton.anim_override = false
	move = true
	yield(get_tree().create_timer(3, false), \"timeout\")
	Transitions.grow_out()
	yield(Transitions, \"done\")
	get_tree().change_scene(\"res://levels/Credits.tscn\")


func show_treasure():
	var y = 1
	var l = \"res://sfx/totem\" + str(y) + \".ogg\"
	$AnimationPlayer.play(\"show_t\")
	yield($AnimationPlayer, \"animation_finished\")
	$TBack/Yeah.stream = load(l)
	if Globals.treasure_0:
		$Camera2D.add_trauma(0.3)
		$TBack/T1.self_modulate = Color(1,1,1,1)
		$TBack/Yeah.play()
		y += 1
	else:
		$TBack/Nope.play()
	yield(get_tree().create_timer(1, false), \"timeout\")
	l = \"res://sfx/totem\" + str(y) + \".ogg\"
	$TBack/Yeah.stream = load(l)
	if Globals.treasure_1:
		$Camera2D.add_trauma(0.3)
		$TBack/T2.self_modulate = Color(1,1,1,1)
		$TBack/Yeah.play()
		y += 1
	else:
		$TBack/Nope.play()
	yield(get_tree().create_timer(1, false), \"timeout\")
	l = \"res://sfx/totem\" + str(y) + \".ogg\"
	$TBack/Yeah.stream = load(l)
	if Globals.treasure_2:
		$Camera2D.add_trauma(0.3)
		$TBack/T3.self_modulate = Color(1,1,1,1)
		$TBack/Yeah.play()
		y += 1
	else:
		$TBack/Nope.play()
	yield(get_tree().create_timer(1, false), \"timeout\")
	l = \"res://sfx/totem\" + str(y) + \".ogg\"
	$TBack/Yeah.stream = load(l)
	if Globals.treasure_3:
		$Camera2D.add_trauma(0.3)
		$TBack/T4.self_modulate = Color(1,1,1,1)
		$TBack/Yeah.play()
		y += 1
	else:
		$TBack/Nope.play()
	yield(get_tree().create_timer(1, false), \"timeout\")
	emit_signal(\"progress\")
"

[sub_resource type="GDScript" id=62]
resource_name = "BrickSound"
script/source = "extends AudioStreamPlayer

func go():
	var rng = RandomNumberGenerator.new()
	rng.randomize()
	var snd = rng.randi_range(1,3)
	self.stream = load(\"res://sfx/snd_brick\" + str(snd) + \".wav\")
	self.play()
"

[sub_resource type="GDScript" id=19]
resource_name = "LevelManager"
script/source = "extends Node2D

var marker = 0

var add_tb = false

func _ready():
	set_physics_process(false)

func progress():
	if $\"%Camera2D\".get_node(\"AnimationPlayer\").is_playing():
		yield($\"%Camera2D\".get_node(\"AnimationPlayer\"), \"animation_finished\")
	
	if !$Timer.is_stopped() and add_tb:
		# bonus!
		get_parent().get_node(\"UI/Main/TimeBonus/AnimationPlayer\").play(\"bonus\")
	
	match marker:
		0:
			$\"%Camera2D\".get_node(\"PlayerWalls/CollisionShape2D5\").disabled = false
			$\"%Camera2D\".get_node(\"PlayerWalls/CollisionShape2D4\").disabled = false
			$\"%Camera2D\".get_node(\"PlayerWalls/CollisionShape2D6\").position.y = -248
			$\"%Camera2D\".get_node(\"AnimationPlayer\").play(\"path1\")
			$Timer.stop()
			$Timer.wait_time = 0
			yield($\"%Camera2D\".get_node(\"AnimationPlayer\"), \"animation_finished\")
			get_parent().get_node(\"Ball\").grow(get_parent().get_node(\"Ball\").global_position)
			get_parent().get_node(\"Grow\").play()
		1:
			$\"%Camera2D\".get_node(\"PlayerWalls/CollisionShape2D5\").disabled = false
			$\"%Camera2D\".get_node(\"PlayerWalls/CollisionShape2D4\").disabled = false
			$AudioStreamPlayer.play()
			$\"%Camera2D\".get_node(\"AnimationPlayer\").play(\"path2\")
			$Timer.stop()
			$Timer.wait_time = 0
		2:
			$\"%Camera2D\".get_node(\"AnimationPlayer\").play(\"path3\")
			$Timer.stop()
			$Timer.wait_time = 0
		3:
			$Timer.stop()
			$Timer.wait_time = 0
			get_parent().get_node(\"Anton\").state = 2
			get_parent().get_node(\"Anton\").global_position = Vector2(5328, 1088)
			$\"%Camera2D\".get_node(\"AnimationPlayer\").play(\"path4\")
			$Tween.interpolate_property(get_parent().get_node(\"Music\"), \"volume_db\", 0, -80, 5)
			$Tween.start()
			yield(get_tree().create_timer(4, false), \"timeout\")
			get_parent().get_node(\"Anton\").state = 0
			yield(get_tree().create_timer(3, false), \"timeout\")
			get_parent().get_node(\"Music\").stop()
			get_parent().get_node(\"Music\").stream = preload(\"res://music/boilercity_boss.ogg\")
			get_parent().get_node(\"Music\").volume_db = 0
			yield(get_tree().create_timer(1, false), \"timeout\")
			get_parent().get_node(\"Music\").play()
			$\"%Camera2D\".get_node(\"AnimationPlayer\").play(\"path5\")
			var balls = get_tree().get_nodes_in_group(\"Ball\")
			var d = false
			for ball in balls:
				if !d:
					ball.enable()
					d =true
				else:
					ball.queue_free()
			
	marker += 1

func _on_AnimationPlayer_animation_finished(anim_name):
	$Timer.start()

func exit():
	if Globals.progress == 0: Globals.progress = 1 ## IMPORTANT!!
	get_parent().get_node(\"Anton\").off_screen_die = false
	get_parent().get_node(\"Ball\").disable()
	get_parent().get_node(\"Anton\").state = 2
	get_parent().get_node(\"Camera2D/PlayerWalls\").queue_free()
	set_physics_process(true)
	$Tween.interpolate_property(get_parent().get_node(\"Music\"), \"volume_db\", 0, -80, 1)
	$Tween.start()
	yield(get_tree().create_timer(1, false), \"timeout\")
	Transitions.grow_out()
	yield(Transitions, \"done\")
	get_tree().change_scene(\"res://levels/WorldMap.tscn\")

func _physics_process(delta):
	get_parent().get_node(\"Anton\").velocity = Vector2(400, 0)

func to_secret():
	get_parent().get_node(\"Music\").volume_db = -20
	$\"%Camera2D\".get_node(\"AnimationPlayer\").play(\"secret\")
	get_parent().get_node(\"Anton\").state = 2
	get_parent().get_node(\"Anton\").global_position = Vector2(-488, 224)
	yield($\"%Camera2D\".get_node(\"AnimationPlayer\"), \"animation_finished\")
	get_parent().get_node(\"Anton\").state = 0
	$\"%Camera2D\".get_node(\"PlayerWalls/CollisionShape2D5\").disabled = false
	$\"%Camera2D\".get_node(\"PlayerWalls/CollisionShape2D4\").disabled = true

func from_secret():
	get_parent().get_node(\"Music\").volume_db = 0
	$\"%Camera2D\".get_node(\"AnimationPlayer\").play(\"from_secret\")
	yield($\"%Camera2D\".get_node(\"AnimationPlayer\"), \"animation_finished\")
	$\"%Camera2D\".get_node(\"PlayerWalls/CollisionShape2D5\").disabled = true
	$\"%Camera2D\".get_node(\"PlayerWalls/CollisionShape2D4\").disabled = false
	
"

[sub_resource type="GDScript" id=11]
resource_name = "Camera"
script/source = "extends Camera2D

export var decay = 0.8  # How quickly the shaking stops [0, 1].
export var max_offset = Vector2(100, 75)  # Maximum hor/ver shake in pixels.
export var max_roll = 0.1  # Maximum rotation in radians (use sparingly).

var trauma = 0.0  # Current shake strength.
var trauma_power = 2  # Trauma exponent. Use [2, 3].

func _ready():
	randomize()

func add_trauma(amount):
	trauma = min(trauma + amount, 1.0)
	if trauma > 0.6:
		trauma = 0.6 # max

func set_trauma(amount):
	trauma = amount

func _process(delta):
	if trauma and Globals.screen_shake:
		trauma = max(trauma - decay * delta, 0)
		shake()

func shake():
	var amount = pow(trauma, trauma_power)
	rotation = max_roll * amount * rand_range(-1, 1)
	offset.x = max_offset.x * amount * rand_range(-1, 1)
	offset.y = max_offset.y * amount * rand_range(-1, 1)
"

[sub_resource type="GDScript" id=12]
resource_name = "UI"
script/source = "extends CanvasLayer

onready var hp = 4
onready var anton = get_parent().get_node(\"Anton\")

onready var boom = preload(\"res://objs/BOOM.tscn\")

var dead = false
var on_dead = false

var selection = 0

var score = 0
var old_score = 0

func _ready():
	set_physics_process(true)

func take_damage():
	hp -= 1
	match hp:
		3:
			$Main/HP/Card4.visible = false
		2:
			$Main/HP/Card3.visible = false
		1:
			$Main/HP/Card2.visible = false
		0:
			$Main/HP/Card1.visible = false
			die()

func die():
	if !dead:
		dead = true
		if Globals.checkpoint:
			$GameOver/Retry.text = \"Checkpoint\"
		get_parent().get_node(\"Music\").stop()
		yield(get_tree().create_timer(0.5, true), \"timeout\")
		get_parent().get_node(\"Camera2D\").add_trauma(10)
		get_tree().paused = true
		var b = boom.instance()
		b.pause_mode = Node.PAUSE_MODE_PROCESS
		get_parent().add_child(b)
		b.global_position = anton.global_position
		b.explode()
		anton.visible = false
		$AnimationPlayer.play(\"gameover\")
		yield(get_tree().create_timer(1.8, true), \"timeout\")
		$Dead.play()
		yield($AnimationPlayer, \"animation_finished\")
		on_dead = true
		set_physics_process(true)

func _physics_process(delta):
	if on_dead:
		match selection:
			0:
				$GameOver/Retry.add_color_override(\"font_color\", Color.red)
				$GameOver/Menu.add_color_override(\"font_color\", Color.black)
				
				if Input.is_action_just_pressed(\"move_right\"):
					selection = 1
				
				if Input.is_action_just_pressed(\"jump\"):
					retry()
			1:
				$GameOver/Retry.add_color_override(\"font_color\", Color.black)
				$GameOver/Menu.add_color_override(\"font_color\", Color.red)
				
				if Input.is_action_just_pressed(\"move_left\"):
					selection = 0
				
				if Input.is_action_just_pressed(\"jump\"):
					exit()
	old_score = floor(old_score)
	$Main/Score.bbcode_text = \"\\n[right]\" + str(old_score) + \" \"

func add_score(s):
	score += s
	$Main/Score/AnimationPlayer.stop()
	$Main/Score/AnimationPlayer.play(\"addscore\")
	$Main/Score/Tween.interpolate_property(self, \"old_score\", old_score, score, 1, Tween.TRANS_EXPO, Tween.EASE_OUT)
	$Main/Score/Tween.start()

func retry():
	on_dead = false
	$Dead.stop()
	$Dead.stream = load(\"res://sfx/snd_anton_yay1.wav\")
	$Dead.play()
	yield(get_tree().create_timer(1, true), \"timeout\")
	Transitions.grow_out()
	yield(Transitions, \"done\")
	get_tree().reload_current_scene()

func exit():
	$Dead.stop()
	$Dead.stream = load(\"res://sfx/snd_anton_goodbye.wav\")
	$Dead.play()
	yield(get_tree().create_timer(1, true), \"timeout\")
	Transitions.grow_out()
	yield(Transitions, \"done\")
	get_tree().change_scene(\"res://levels/WorldMap.tscn\")
"

[sub_resource type="DynamicFont" id=42]
size = 60
outline_size = 4
font_data = ExtResource( 3 )

[sub_resource type="Animation" id=43]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("Level:rect_position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 800, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("GetGoin:rect_scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 1e-05, 1e-05 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Level:rect_scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("GetGoin:self_modulate")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ) ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("GetGoin:custom_colors/font_color")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Color( 1, 0, 0, 1 ) ]
}
tracks/5/type = "value"
tracks/5/path = NodePath(".:rect_size")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 800, 600 ) ]
}
tracks/6/type = "value"
tracks/6/path = NodePath("Level:rect_size")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 800, 600 ) ]
}
tracks/7/type = "value"
tracks/7/path = NodePath("GetGoin:rect_size")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 800, 600 ) ]
}

[sub_resource type="Animation" id=44]
resource_name = "intro"
length = 4.0
tracks/0/type = "value"
tracks/0/path = NodePath("Level:rect_position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 0.5, 1 ),
"update": 0,
"values": [ Vector2( 800, 0 ), Vector2( 0, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("GetGoin:rect_scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 2.5, 2.7, 3.8, 4 ),
"transitions": PoolRealArray( 1, 0.5, 1, 1, 0.5 ),
"update": 0,
"values": [ Vector2( 1e-05, 1e-05 ), Vector2( 1e-05, 1e-05 ), Vector2( 1, 1 ), Vector2( 1, 1 ), Vector2( 1e-05, 1e-05 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Level:rect_scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 2.5, 2.7 ),
"transitions": PoolRealArray( 1, 0.5, 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 1, 1 ), Vector2( 0, 0 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("GetGoin:custom_colors/font_color")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 2.7, 2.9, 3.1, 3.3, 3.5, 3.7 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ Color( 1, 0, 0, 1 ), Color( 0, 0.388235, 0.0431373, 1 ), Color( 1, 0, 0, 1 ), Color( 0, 0.388235, 0.0431373, 1 ), Color( 1, 0, 0, 1 ), Color( 0, 0.388235, 0.0431373, 1 ) ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("Level:rect_size")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 800, 600 ) ]
}
tracks/5/type = "value"
tracks/5/path = NodePath("GetGoin:rect_size")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 800, 600 ) ]
}
tracks/6/type = "value"
tracks/6/path = NodePath(".:rect_size")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/keys = {
"times": PoolRealArray( 2.7 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 800, 600 ) ]
}

[sub_resource type="Animation" id=45]
resource_name = "intro_fast"
length = 1.5
tracks/0/type = "value"
tracks/0/path = NodePath("Level:rect_position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 0.5 ),
"update": 0,
"values": [ Vector2( 800, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("GetGoin:rect_scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.1, 1.2, 1.4 ),
"transitions": PoolRealArray( 1, 1, 1, 0.5 ),
"update": 0,
"values": [ Vector2( 1e-05, 1e-05 ), Vector2( 1, 1 ), Vector2( 1, 1 ), Vector2( 1e-05, 1e-05 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Level:rect_scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("GetGoin:custom_colors/font_color")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0.1, 0.3, 0.5, 0.7, 0.9, 1.1 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ Color( 1, 0, 0, 1 ), Color( 0, 0.388235, 0.0431373, 1 ), Color( 1, 0, 0, 1 ), Color( 0, 0.388235, 0.0431373, 1 ), Color( 1, 0, 0, 1 ), Color( 0, 0.388235, 0.0431373, 1 ) ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("Level:rect_size")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 800, 600 ) ]
}
tracks/5/type = "value"
tracks/5/path = NodePath("GetGoin:rect_size")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 800, 600 ) ]
}
tracks/6/type = "value"
tracks/6/path = NodePath(".:rect_size")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 800, 600 ) ]
}

[sub_resource type="DynamicFont" id=46]
size = 40
outline_size = 2
outline_color = Color( 0, 0, 0, 1 )
font_data = ExtResource( 3 )

[sub_resource type="Animation" id=56]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath(".:rect_rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ 0.0 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath(".:rect_scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ) ]
}

[sub_resource type="Animation" id=57]
resource_name = "addscore"
tracks/0/type = "value"
tracks/0/path = NodePath(".:rect_rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 0.183011, 1 ),
"update": 0,
"values": [ -10.0, 0.0 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath(".:rect_scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 0.183011, 1 ),
"update": 0,
"values": [ Vector2( 1.5, 1.5 ), Vector2( 1, 1 ) ]
}

[sub_resource type="DynamicFont" id=48]
size = 60
outline_size = 4
font_data = ExtResource( 3 )

[sub_resource type="AtlasTexture" id=49]
atlas = ExtResource( 19 )
region = Rect2( 0, 0, 16, 16 )

[sub_resource type="AtlasTexture" id=50]
atlas = ExtResource( 19 )
region = Rect2( 16, 0, 16, 16 )

[sub_resource type="AtlasTexture" id=51]
atlas = ExtResource( 19 )
region = Rect2( 32, 0, 16, 16 )

[sub_resource type="AtlasTexture" id=52]
atlas = ExtResource( 19 )
region = Rect2( 48, 0, 16, 16 )

[sub_resource type="SpriteFrames" id=53]
animations = [ {
"frames": [ SubResource( 49 ), SubResource( 50 ), SubResource( 51 ), SubResource( 52 ) ],
"loop": true,
"name": "default",
"speed": 20.0
} ]

[sub_resource type="Animation" id=54]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("Chip1:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 408, 32 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Chip2:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 752, -224 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Chip1:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ false ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("Chip2:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ false ]
}
tracks/4/type = "value"
tracks/4/path = NodePath(".:rect_position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 0, -100 ) ]
}
tracks/5/type = "value"
tracks/5/path = NodePath(".:rect_size")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 800, 88.0003 ) ]
}
tracks/6/type = "value"
tracks/6/path = NodePath("Chip1:playing")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ false ]
}
tracks/7/type = "value"
tracks/7/path = NodePath("Chip2:playing")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ false ]
}
tracks/8/type = "value"
tracks/8/path = NodePath("..:rect_size")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 800, 600 ) ]
}

[sub_resource type="Animation" id=55]
resource_name = "bonus"
length = 3.0
tracks/0/type = "value"
tracks/0/path = NodePath("Chip1:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 1, 1.5, 2 ),
"transitions": PoolRealArray( 2, 1, 1 ),
"update": 0,
"values": [ Vector2( 408, 32 ), Vector2( 752, -224 ), Vector2( 752, -224 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Chip2:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 1, 1.5, 2 ),
"transitions": PoolRealArray( 1, 2, 1 ),
"update": 0,
"values": [ Vector2( 408, 32 ), Vector2( 408, 32 ), Vector2( 752, -224 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Chip1:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 1, 1.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ true, false ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("Chip2:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 1, 2 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ true, false ]
}
tracks/4/type = "value"
tracks/4/path = NodePath(".:rect_position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0, 1, 2.5, 3 ),
"transitions": PoolRealArray( 0.297302, 1, 3, 1 ),
"update": 0,
"values": [ Vector2( 0, -100 ), Vector2( 0, 256 ), Vector2( 0, 256 ), Vector2( 0, -100 ) ]
}
tracks/5/type = "value"
tracks/5/path = NodePath(".:rect_size")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 800, 88.0003 ) ]
}
tracks/6/type = "value"
tracks/6/path = NodePath("Chip2:playing")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}
tracks/7/type = "value"
tracks/7/path = NodePath("Chip1:playing")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}
tracks/8/type = "method"
tracks/8/path = NodePath("../..")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/keys = {
"times": PoolRealArray( 1.5, 2 ),
"transitions": PoolRealArray( 1, 1 ),
"values": [ {
"args": [ 500 ],
"method": "add_score"
}, {
"args": [ 500 ],
"method": "add_score"
} ]
}
tracks/9/type = "value"
tracks/9/path = NodePath("..:rect_size")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 800, 600 ) ]
}

[sub_resource type="DynamicFont" id=59]
size = 50
outline_size = 4
outline_color = Color( 0, 0, 0, 1 )
font_data = ExtResource( 3 )

[sub_resource type="DynamicFont" id=58]
size = 80
outline_size = 4
outline_color = Color( 0, 0, 0, 1 )
font_data = ExtResource( 3 )

[sub_resource type="Animation" id=61]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("WellDone:rect_scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 1e-05, 1e-05 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("WellDone:rect_position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 180, 24 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Bricks:rect_position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( -12, 40 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("Bricks:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ false ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("Bricks2:rect_position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( -12, 40 ) ]
}
tracks/5/type = "value"
tracks/5/path = NodePath("Bricks2:visible")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ false ]
}

[sub_resource type="Animation" id=60]
resource_name = "show_stats"
length = 8.0
tracks/0/type = "value"
tracks/0/path = NodePath("WellDone:rect_scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.5, 1 ),
"transitions": PoolRealArray( 0.3, 3, 1 ),
"update": 0,
"values": [ Vector2( 1e-05, 1e-05 ), Vector2( 1.5, 1.5 ), Vector2( 1, 1 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("WellDone:rect_position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.5, 1 ),
"transitions": PoolRealArray( 0.3, 3, 1 ),
"update": 0,
"values": [ Vector2( 180, 24 ), Vector2( 180, 258 ), Vector2( 180, 24 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Bricks:rect_position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 1.5, 2 ),
"transitions": PoolRealArray( 0.3, 0.3, 1 ),
"update": 0,
"values": [ Vector2( -12, 40 ), Vector2( -12, 40 ), Vector2( -12, 104 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("Bricks:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 1.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ false, true ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("Bricks2:rect_position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 3, 3.5 ),
"transitions": PoolRealArray( 0.3, 1 ),
"update": 0,
"values": [ Vector2( -12, 40 ), Vector2( -12, 152 ) ]
}
tracks/5/type = "value"
tracks/5/path = NodePath("Bricks2:visible")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0, 3 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ false, true ]
}
tracks/6/type = "method"
tracks/6/path = NodePath("../..")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/keys = {
"times": PoolRealArray( 2, 3.5 ),
"transitions": PoolRealArray( 1, 1 ),
"values": [ {
"args": [  ],
"method": "show_bricks"
}, {
"args": [  ],
"method": "show_score"
} ]
}
tracks/7/type = "method"
tracks/7/path = NodePath("AudioStreamPlayer")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/keys = {
"times": PoolRealArray( 2, 3.5 ),
"transitions": PoolRealArray( 1, 1 ),
"values": [ {
"args": [ 0.0 ],
"method": "play"
}, {
"args": [ 0.0 ],
"method": "play"
} ]
}

[sub_resource type="Animation" id=41]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("GameOver/ColorRect:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("GameOver/TextureRect:rect_scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 1e-05, 1e-05 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("GameOver/Retry:rect_position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 0, 640 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("GameOver/Menu:rect_size")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 166, 63 ) ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("GameOver/Menu:rect_position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 536, 640 ) ]
}
tracks/5/type = "value"
tracks/5/path = NodePath("GameOver/TextureRect:rect_rotation")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ 0.0 ]
}
tracks/6/type = "value"
tracks/6/path = NodePath("Main:rect_position")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 0, -128 ) ]
}
tracks/7/type = "value"
tracks/7/path = NodePath("Intro:rect_size")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 800, 600 ) ]
}
tracks/8/type = "value"
tracks/8/path = NodePath("Main:rect_size")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 800, 600 ) ]
}

[sub_resource type="Animation" id=40]
resource_name = "gameover"
length = 5.0
tracks/0/type = "value"
tracks/0/path = NodePath("GameOver/ColorRect:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.7, 1.5 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 0 ), Color( 1, 1, 1, 0 ), Color( 1, 1, 1, 1 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("GameOver/TextureRect:rect_scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 2, 2.5, 2.9 ),
"transitions": PoolRealArray( 1, 0.5, 1, 0.5 ),
"update": 0,
"values": [ Vector2( 1e-05, 1e-05 ), Vector2( 1e-05, 1e-05 ), Vector2( 2.5, 2.5 ), Vector2( 2, 2 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("GameOver/Retry:rect_position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 4.5, 5 ),
"transitions": PoolRealArray( 0.5, 0.5, 1 ),
"update": 0,
"values": [ Vector2( 0, 640 ), Vector2( 0, 640 ), Vector2( 0, 384 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("GameOver/Menu:rect_position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 4.5, 5 ),
"transitions": PoolRealArray( 0.5, 0.5, 1 ),
"update": 0,
"values": [ Vector2( 536, 640 ), Vector2( 536, 640 ), Vector2( 536, 384 ) ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("GameOver/TextureRect:rect_rotation")
tracks/4/interp = 2
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0, 2, 2.5, 2.9 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 0.0, 5.0, 0.0 ]
}

[sub_resource type="Animation" id=47]
resource_name = "intro"
tracks/0/type = "value"
tracks/0/path = NodePath("Main:rect_position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.5, 0.7, 1 ),
"transitions": PoolRealArray( 2.82843, 1, 2.82843, 1 ),
"update": 0,
"values": [ Vector2( 0, -128 ), Vector2( 0, 0 ), Vector2( 0, -24 ), Vector2( 0, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Intro:rect_size")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 800, 600 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Main:rect_size")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 800, 600 ) ]
}

[sub_resource type="Animation" id=165]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath(".:rect_size")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 800, 600 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Bot:rect_position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 0, 600 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Top:rect_position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 0, -64 ) ]
}

[sub_resource type="Animation" id=166]
resource_name = "in"
length = 0.5
tracks/0/type = "value"
tracks/0/path = NodePath(".:rect_size")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 800, 600 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Top:rect_position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 0.5, 1 ),
"update": 0,
"values": [ Vector2( 0, -64 ), Vector2( 0, 0 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Bot:rect_position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 0.5, 1 ),
"update": 0,
"values": [ Vector2( 0, 600 ), Vector2( 0, 544 ) ]
}

[sub_resource type="Animation" id=167]
resource_name = "out"
length = 0.5
tracks/0/type = "value"
tracks/0/path = NodePath(".:rect_size")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 800, 600 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Top:rect_position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 0.5, 0.5 ),
"update": 0,
"values": [ Vector2( 0, 0 ), Vector2( 0, -64 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Bot:rect_position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 0.5, 0.5 ),
"update": 0,
"values": [ Vector2( 0, 544 ), Vector2( 0, 600 ) ]
}

[sub_resource type="RectangleShape2D" id=22]
extents = Vector2( 240, 8 )

[sub_resource type="Shader" id=153]
code = "shader_type canvas_item;

uniform float amount = 1.0;
uniform float speed = 10.0;
uniform float waves = 60.0;

float Remap01(float value, float from, float to) {
	return (value - from) / (to - from);
}

void fragment() {
	vec2 uv = UV;
	uv.x += (Remap01(sin(uv.y * waves - (TIME * speed)), -waves, waves) - 0.5) * amount;
	vec4 color = texture(TEXTURE, uv);
	COLOR =  color;
}"

[sub_resource type="ShaderMaterial" id=154]
shader = SubResource( 153 )
shader_param/amount = 0.0
shader_param/speed = 5.0
shader_param/waves = 10.0

[sub_resource type="ConvexPolygonShape2D" id=98]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=99]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=100]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=101]
points = PoolVector2Array( 0, 16, 32, 0, 32, 16 )

[sub_resource type="ConvexPolygonShape2D" id=103]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=135]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=136]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="TileSet" id=102]
0/name = "tileset_fudgemountain.png 0"
0/texture = ExtResource( 5 )
0/tex_offset = Vector2( 0, 0 )
0/modulate = Color( 1, 1, 1, 1 )
0/region = Rect2( 0, 0, 16, 16 )
0/tile_mode = 0
0/occluder_offset = Vector2( 0, 0 )
0/navigation_offset = Vector2( 0, 0 )
0/shape_offset = Vector2( 0, 0 )
0/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
0/shape = SubResource( 98 )
0/shape_one_way = false
0/shape_one_way_margin = 1.0
0/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 98 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
0/z_index = 0
1/name = "tileset_fudgemountain.png 1"
1/texture = ExtResource( 5 )
1/tex_offset = Vector2( 0, 0 )
1/modulate = Color( 1, 1, 1, 1 )
1/region = Rect2( 0, 16, 16, 16 )
1/tile_mode = 0
1/occluder_offset = Vector2( 0, 0 )
1/navigation_offset = Vector2( 0, 0 )
1/shape_offset = Vector2( 0, 0 )
1/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
1/shape = SubResource( 99 )
1/shape_one_way = false
1/shape_one_way_margin = 1.0
1/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 99 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
1/z_index = 0
2/name = "tileset_fudgemountain.png 2"
2/texture = ExtResource( 5 )
2/tex_offset = Vector2( 0, 0 )
2/modulate = Color( 1, 1, 1, 1 )
2/region = Rect2( 16, 16, 16, 16 )
2/tile_mode = 0
2/occluder_offset = Vector2( 0, 0 )
2/navigation_offset = Vector2( 0, 0 )
2/shape_offset = Vector2( 0, 0 )
2/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
2/shape = SubResource( 100 )
2/shape_one_way = false
2/shape_one_way_margin = 1.0
2/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 100 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
2/z_index = 0
3/name = "tileset_fudgemountain.png 3"
3/texture = ExtResource( 5 )
3/tex_offset = Vector2( 0, 0 )
3/modulate = Color( 1, 1, 1, 1 )
3/region = Rect2( 16, 0, 32, 16 )
3/tile_mode = 0
3/occluder_offset = Vector2( 0, 0 )
3/navigation_offset = Vector2( 0, 0 )
3/shape_offset = Vector2( 0, 0 )
3/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
3/shape = SubResource( 101 )
3/shape_one_way = false
3/shape_one_way_margin = 1.0
3/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 101 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
3/z_index = 0
4/name = "tileset_fudgemountain.png 4"
4/texture = ExtResource( 5 )
4/tex_offset = Vector2( 0, 0 )
4/modulate = Color( 1, 1, 1, 1 )
4/region = Rect2( 48, 0, 16, 16 )
4/tile_mode = 0
4/occluder_offset = Vector2( 0, 0 )
4/navigation_offset = Vector2( 0, 0 )
4/shape_offset = Vector2( 0, 0 )
4/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
4/shape = SubResource( 103 )
4/shape_one_way = false
4/shape_one_way_margin = 1.0
4/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 103 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
4/z_index = 0
5/name = "tileset_fudgemountain.png 5"
5/texture = ExtResource( 5 )
5/tex_offset = Vector2( 0, 0 )
5/modulate = Color( 1, 1, 1, 1 )
5/region = Rect2( 64, 0, 16, 16 )
5/tile_mode = 0
5/occluder_offset = Vector2( 0, 0 )
5/navigation_offset = Vector2( 0, 0 )
5/shape_offset = Vector2( 0, 0 )
5/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
5/shape_one_way = false
5/shape_one_way_margin = 0.0
5/shapes = [  ]
5/z_index = -2
6/name = "tileset_fudgemountain.png 6"
6/texture = ExtResource( 5 )
6/tex_offset = Vector2( 0, 0 )
6/modulate = Color( 1, 1, 1, 1 )
6/region = Rect2( 80, 0, 16, 16 )
6/tile_mode = 0
6/occluder_offset = Vector2( 0, 0 )
6/navigation_offset = Vector2( 0, 0 )
6/shape_offset = Vector2( 0, 0 )
6/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
6/shape_one_way = false
6/shape_one_way_margin = 0.0
6/shapes = [  ]
6/z_index = -2
7/name = "tileset_fudgemountain.png 7"
7/texture = ExtResource( 5 )
7/tex_offset = Vector2( 0, 0 )
7/modulate = Color( 1, 1, 1, 1 )
7/region = Rect2( 64, 16, 16, 16 )
7/tile_mode = 0
7/occluder_offset = Vector2( 0, 0 )
7/navigation_offset = Vector2( 0, 0 )
7/shape_offset = Vector2( 0, 0 )
7/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
7/shape_one_way = false
7/shape_one_way_margin = 0.0
7/shapes = [  ]
7/z_index = 0
8/name = "tileset_fudgemountain.png 8"
8/texture = ExtResource( 5 )
8/tex_offset = Vector2( 0, 0 )
8/modulate = Color( 1, 1, 1, 1 )
8/region = Rect2( 32, 16, 16, 16 )
8/tile_mode = 0
8/occluder_offset = Vector2( 0, 0 )
8/navigation_offset = Vector2( 0, 0 )
8/shape_offset = Vector2( 0, 0 )
8/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
8/shape = SubResource( 135 )
8/shape_one_way = false
8/shape_one_way_margin = 1.0
8/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 135 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
8/z_index = 0
9/name = "tileset_fudgemountain.png 9"
9/texture = ExtResource( 5 )
9/tex_offset = Vector2( 0, 0 )
9/modulate = Color( 1, 1, 1, 1 )
9/region = Rect2( 48, 16, 16, 16 )
9/tile_mode = 0
9/occluder_offset = Vector2( 0, 0 )
9/navigation_offset = Vector2( 0, 0 )
9/shape_offset = Vector2( 0, 0 )
9/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
9/shape = SubResource( 136 )
9/shape_one_way = false
9/shape_one_way_margin = 1.0
9/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 136 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
9/z_index = 0

[sub_resource type="DynamicFont" id=137]
size = 60
font_data = ExtResource( 7 )

[sub_resource type="DynamicFont" id=138]
size = 30
font_data = ExtResource( 7 )

[sub_resource type="Animation" id=139]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("Texture:rect_position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 448, -104 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Sprite:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 128, 152 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Sprite:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ false ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("Sprite:rotation_degrees")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ 0.0 ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("Texture:visible")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ true ]
}
tracks/5/type = "value"
tracks/5/path = NodePath("Beam:position")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( -224, -104 ) ]
}
tracks/6/type = "value"
tracks/6/path = NodePath("Beam:scale")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 2, 1e-05 ) ]
}
tracks/7/type = "value"
tracks/7/path = NodePath("Beam:offset")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 0, 0 ) ]
}
tracks/8/type = "value"
tracks/8/path = NodePath("Beam:self_modulate")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ) ]
}
tracks/9/type = "value"
tracks/9/path = NodePath("Grulo:self_modulate")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Color( 0, 0, 0, 0 ) ]
}
tracks/10/type = "value"
tracks/10/path = NodePath("Grulo:offset")
tracks/10/interp = 1
tracks/10/loop_wrap = true
tracks/10/imported = false
tracks/10/enabled = true
tracks/10/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( -5, 0 ) ]
}
tracks/11/type = "value"
tracks/11/path = NodePath("TBack:position")
tracks/11/interp = 1
tracks/11/loop_wrap = true
tracks/11/imported = false
tracks/11/enabled = true
tracks/11/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 200, -424 ) ]
}
tracks/12/type = "value"
tracks/12/path = NodePath("ParallaxBackground/ParallaxLayer/Sprite:material:shader_param/amount")
tracks/12/interp = 1
tracks/12/loop_wrap = true
tracks/12/imported = false
tracks/12/enabled = true
tracks/12/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ 0.0 ]
}
tracks/13/type = "value"
tracks/13/path = NodePath("Music2:pitch_scale")
tracks/13/interp = 1
tracks/13/loop_wrap = true
tracks/13/imported = false
tracks/13/enabled = true
tracks/13/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ 1.0 ]
}
tracks/14/type = "value"
tracks/14/path = NodePath("Music2:volume_db")
tracks/14/interp = 1
tracks/14/loop_wrap = true
tracks/14/imported = false
tracks/14/enabled = true
tracks/14/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ 0.0 ]
}

[sub_resource type="Animation" id=158]
length = 0.5
step = 0.05
tracks/0/type = "value"
tracks/0/path = NodePath("Grulo:offset")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.05, 0.1, 0.15, 0.2, 0.3, 0.5 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 5, 0 ), Vector2( -5, 0 ), Vector2( 5, 0 ), Vector2( -5, 0 ), Vector2( 5, 0 ), Vector2( -5, 0 ), Vector2( 0, 0 ) ]
}

[sub_resource type="Animation" id=164]
resource_name = "hide_box"
tracks/0/type = "value"
tracks/0/path = NodePath("Texture:rect_position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 0.183011, -2 ),
"update": 0,
"values": [ Vector2( -16, -104 ), Vector2( 448, -104 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Texture:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}

[sub_resource type="Animation" id=157]
resource_name = "show_t"
tracks/0/type = "value"
tracks/0/path = NodePath("TBack:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( -2, 1 ),
"update": 0,
"values": [ Vector2( 200, -424 ), Vector2( 200, -216 ) ]
}

[sub_resource type="Animation" id=162]
resource_name = "super"
length = 8.0
tracks/0/type = "value"
tracks/0/path = NodePath("Music2:pitch_scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 4, 8 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ 1.0, 2.0, 0.01 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Music2:volume_db")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 6, 8 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 0.0, -80.0 ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("ParallaxBackground/ParallaxLayer/Sprite:material:shader_param/amount")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 4, 8 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 1.0, 0.0 ]
}
tracks/3/type = "method"
tracks/3/path = NodePath("Grulo")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0.2 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [ "super", false ],
"method": "play"
} ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("Texture:visible")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ false ]
}
tracks/5/type = "value"
tracks/5/path = NodePath("TBack:position")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( -2, 1 ),
"update": 0,
"values": [ Vector2( 200, -216 ), Vector2( 200, -432 ) ]
}

[sub_resource type="Animation" id=140]
resource_name = "textbox"
tracks/0/type = "value"
tracks/0/path = NodePath("Texture:rect_position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( -2, 1 ),
"update": 0,
"values": [ Vector2( 448, -104 ), Vector2( -16, -104 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Texture:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}

[sub_resource type="Animation" id=141]
resource_name = "throw"
length = 1.5
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.6, 1.5 ),
"transitions": PoolRealArray( 0.258816, 3.86374, 1 ),
"update": 0,
"values": [ Vector2( 128, 152 ), Vector2( -224, -64 ), Vector2( -224, 192 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Sprite:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 1.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ true, false ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Sprite:rotation_degrees")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.6, 1.5 ),
"transitions": PoolRealArray( 0.258816, 3.86374, 1 ),
"update": 0,
"values": [ 0.0, 180.0, 270.0 ]
}
tracks/3/type = "method"
tracks/3/path = NodePath("Fall")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0.6 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [ 0.0 ],
"method": "play"
} ]
}
tracks/4/type = "method"
tracks/4/path = NodePath("Glass")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 1.5 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [ 0.0 ],
"method": "play"
} ]
}
tracks/5/type = "method"
tracks/5/path = NodePath("Music")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 1.5 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [  ],
"method": "stop"
} ]
}
tracks/6/type = "method"
tracks/6/path = NodePath("AudioStreamPlayer")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [ 0.0 ],
"method": "play"
} ]
}

[sub_resource type="Animation" id=142]
resource_name = "transform"
length = 7.0
tracks/0/type = "method"
tracks/0/path = NodePath("Music")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [ 0.0 ],
"method": "play"
} ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Texture:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ false ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Beam:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.2 ),
"transitions": PoolRealArray( 0.3, 1 ),
"update": 0,
"values": [ Vector2( -224, 192 ), Vector2( -224, -104 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("Beam:scale")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 0.2 ),
"transitions": PoolRealArray( 0.3, 1 ),
"update": 0,
"values": [ Vector2( 2, 1e-05 ), Vector2( 2, 2 ) ]
}
tracks/4/type = "method"
tracks/4/path = NodePath("Camera2D")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [ 1.0 ],
"method": "add_trauma"
} ]
}
tracks/5/type = "value"
tracks/5/path = NodePath("Beam:offset")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.3, 1.5, 2, 3, 5 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 0, 0 ), Vector2( 5, 0 ), Vector2( -5, 0 ), Vector2( 5, 0 ), Vector2( -5, 0 ), Vector2( 5, 0 ), Vector2( -5, 0 ), Vector2( 5, 0 ), Vector2( -5, 0 ), Vector2( 5, 0 ), Vector2( -5, 0 ), Vector2( 5, 0 ), Vector2( -5, 0 ), Vector2( 5, 0 ), Vector2( -5, 0 ), Vector2( 0, 0 ), Vector2( 0, 0 ) ]
}
tracks/6/type = "value"
tracks/6/path = NodePath("Beam:self_modulate")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/keys = {
"times": PoolRealArray( 0, 4, 7 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 0 ) ]
}
tracks/7/type = "value"
tracks/7/path = NodePath("Grulo:self_modulate")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/keys = {
"times": PoolRealArray( 0, 3, 7 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Color( 0, 0, 0, 0 ), Color( 0, 0, 0, 1 ), Color( 1, 1, 1, 1 ) ]
}
tracks/8/type = "value"
tracks/8/path = NodePath("ParallaxBackground/ParallaxLayer/Sprite:material:shader_param/amount")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/keys = {
"times": PoolRealArray( 0, 3, 7 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 1.0, 0.0 ]
}
tracks/9/type = "method"
tracks/9/path = NodePath("BOOM")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [  ],
"method": "explode"
} ]
}

[sub_resource type="AtlasTexture" id=145]
atlas = ExtResource( 20 )
region = Rect2( 0, 0, 64, 64 )

[sub_resource type="AtlasTexture" id=146]
atlas = ExtResource( 20 )
region = Rect2( 64, 0, 64, 64 )

[sub_resource type="AtlasTexture" id=147]
atlas = ExtResource( 20 )
region = Rect2( 128, 0, 64, 64 )

[sub_resource type="AtlasTexture" id=148]
atlas = ExtResource( 20 )
region = Rect2( 192, 0, 64, 64 )

[sub_resource type="AtlasTexture" id=149]
atlas = ExtResource( 20 )
region = Rect2( 256, 0, 64, 64 )

[sub_resource type="AtlasTexture" id=150]
atlas = ExtResource( 20 )
region = Rect2( 320, 0, 64, 64 )

[sub_resource type="AtlasTexture" id=159]
atlas = ExtResource( 20 )
region = Rect2( 384, 0, 64, 64 )

[sub_resource type="AtlasTexture" id=155]
atlas = ExtResource( 20 )
region = Rect2( 448, 0, 64, 64 )

[sub_resource type="AtlasTexture" id=156]
atlas = ExtResource( 20 )
region = Rect2( 512, 0, 64, 64 )

[sub_resource type="AtlasTexture" id=160]
atlas = ExtResource( 20 )
region = Rect2( 576, 0, 64, 64 )

[sub_resource type="AtlasTexture" id=161]
atlas = ExtResource( 20 )
region = Rect2( 640, 0, 64, 64 )

[sub_resource type="SpriteFrames" id=144]
animations = [ {
"frames": [ SubResource( 145 ), SubResource( 146 ), SubResource( 147 ), SubResource( 148 ), SubResource( 149 ), SubResource( 150 ), SubResource( 159 ), SubResource( 155 ), SubResource( 156 ) ],
"loop": false,
"name": "default",
"speed": 0.0
}, {
"frames": [ SubResource( 160 ), SubResource( 161 ) ],
"loop": true,
"name": "super",
"speed": 10.0
} ]

[sub_resource type="Animation" id=151]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( -224, -112 ) ]
}

[sub_resource type="Animation" id=152]
resource_name = "float"
length = 6.0
loop = true
step = 1.0
tracks/0/type = "value"
tracks/0/path = NodePath(".:position")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 3, 6 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Vector2( -208, -112 ), Vector2( -208, -80 ), Vector2( -208, -112 ) ]
}

[sub_resource type="Animation" id=163]
resource_name = "go_away"
tracks/0/type = "method"
tracks/0/path = NodePath(".")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [ "super", false ],
"method": "play"
} ]
}
tracks/1/type = "value"
tracks/1/path = NodePath(".:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 3.73213, 1 ),
"update": 0,
"values": [ Vector2( -208, -112 ), Vector2( -208, -448 ) ]
}

[node name="Level" type="Node2D"]
script = SubResource( 6 )

[node name="BrickSound" type="AudioStreamPlayer" parent="." groups=["BS"]]
bus = "SFX"
script = SubResource( 62 )

[node name="Win" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 16 )
bus = "Music"

[node name="Music" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 1 )
autoplay = true
bus = "Music"

[node name="Tween" type="Tween" parent="Music"]

[node name="Music2" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 18 )
bus = "Music"

[node name="Manager" type="Node2D" parent="."]
script = SubResource( 19 )

[node name="Tween" type="Tween" parent="Manager"]

[node name="Timer" type="Timer" parent="Manager"]
one_shot = true

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="Manager"]
stream = ExtResource( 9 )
bus = "SFX"

[node name="Anton" parent="." instance=ExtResource( 28 )]
position = Vector2( 544, 160 )
off_screen_die = false

[node name="Disk" parent="." instance=ExtResource( 27 )]
position = Vector2( -224, 224 )

[node name="Ball" parent="." instance=ExtResource( 2 )]
position = Vector2( 816, 200 )

[node name="Camera2D" type="Camera2D" parent="." groups=["Camera"]]
pause_mode = 2
unique_name_in_owner = true
current = true
script = SubResource( 11 )

[node name="UI" type="CanvasLayer" parent="." groups=["UI"]]
pause_mode = 2
script = SubResource( 12 )

[node name="Intro" type="Control" parent="UI"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_right = 800.0
margin_bottom = 600.0

[node name="Level" type="Label" parent="UI/Intro"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 800.0
margin_right = 1600.0
margin_bottom = 600.0
rect_pivot_offset = Vector2( 400, 300 )
custom_colors/font_color = Color( 1, 0, 0, 1 )
custom_fonts/font = SubResource( 42 )
text = "Boiler City"
align = 1
valign = 1

[node name="GetGoin" type="Label" parent="UI/Intro"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_right = 800.0
margin_bottom = 600.0
rect_scale = Vector2( 1e-05, 1e-05 )
rect_pivot_offset = Vector2( 400, 300 )
custom_colors/font_color = Color( 1, 0, 0, 1 )
custom_fonts/font = SubResource( 42 )
text = "GET GOING!"
align = 1
valign = 1

[node name="AnimationPlayer" type="AnimationPlayer" parent="UI/Intro"]
anims/RESET = SubResource( 43 )
anims/intro = SubResource( 44 )
anims/intro_fast = SubResource( 45 )

[node name="Main" type="Control" parent="UI"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_top = -128.0
margin_right = 800.0
margin_bottom = 472.0

[node name="HP" type="Control" parent="UI/Main"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_right = -608.0
margin_bottom = -520.0

[node name="Card1" type="TextureRect" parent="UI/Main/HP"]
margin_left = 8.0
margin_top = 8.0
margin_right = 32.0
margin_bottom = 40.0
rect_scale = Vector2( 2, 2 )
texture = ExtResource( 11 )

[node name="Card2" type="TextureRect" parent="UI/Main/HP"]
margin_left = 48.0
margin_top = 8.0
margin_right = 72.0
margin_bottom = 40.0
rect_scale = Vector2( 2, 2 )
texture = ExtResource( 11 )

[node name="Card3" type="TextureRect" parent="UI/Main/HP"]
margin_left = 88.0
margin_top = 8.0
margin_right = 112.0
margin_bottom = 40.0
rect_scale = Vector2( 2, 2 )
texture = ExtResource( 11 )

[node name="Card4" type="TextureRect" parent="UI/Main/HP"]
margin_left = 128.0
margin_top = 8.0
margin_right = 152.0
margin_bottom = 40.0
rect_scale = Vector2( 2, 2 )
texture = ExtResource( 11 )

[node name="Score" type="RichTextLabel" parent="UI/Main"]
anchor_left = 1.0
anchor_right = 1.0
margin_left = -528.0
margin_top = -32.0
margin_bottom = 72.0
rect_pivot_offset = Vector2( 528, 0 )
custom_fonts/normal_font = SubResource( 46 )
bbcode_enabled = true
bbcode_text = "
[right][wave amp=0]SCORE "
text = "
SCORE "
scroll_active = false

[node name="Tween" type="Tween" parent="UI/Main/Score"]

[node name="AnimationPlayer" type="AnimationPlayer" parent="UI/Main/Score"]
anims/RESET = SubResource( 56 )
anims/addscore = SubResource( 57 )

[node name="TimeBonus" type="RichTextLabel" parent="UI/Main"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_top = -100.0
margin_right = 800.0
margin_bottom = -11.9997
rect_pivot_offset = Vector2( 400, 44 )
rect_clip_content = false
custom_fonts/normal_font = SubResource( 48 )
bbcode_enabled = true
bbcode_text = "[center][wave amp=80][color=red]Time Bonus!"
text = "Time Bonus!"

[node name="Chip1" type="AnimatedSprite" parent="UI/Main/TimeBonus"]
visible = false
show_behind_parent = true
position = Vector2( 408, 32 )
scale = Vector2( 2, 2 )
frames = SubResource( 53 )
frame = 2

[node name="Chip2" type="AnimatedSprite" parent="UI/Main/TimeBonus"]
visible = false
show_behind_parent = true
position = Vector2( 752, -224 )
scale = Vector2( 2, 2 )
frames = SubResource( 53 )
frame = 2

[node name="AnimationPlayer" type="AnimationPlayer" parent="UI/Main/TimeBonus"]
anims/RESET = SubResource( 54 )
anims/bonus = SubResource( 55 )

[node name="GameOver" type="Control" parent="UI"]
anchor_right = 1.0
anchor_bottom = 1.0
__meta__ = {
"_edit_use_anchors_": true
}

[node name="ColorRect" type="ColorRect" parent="UI/GameOver"]
self_modulate = Color( 1, 1, 1, 0 )
anchor_right = 1.0
anchor_bottom = 1.0
color = Color( 0, 0, 0, 0.768627 )

[node name="TextureRect" type="TextureRect" parent="UI/GameOver"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -158.0
margin_top = -196.0
margin_right = 158.0
margin_bottom = -46.0
rect_scale = Vector2( 1e-05, 1e-05 )
rect_pivot_offset = Vector2( 158, 75 )
texture = ExtResource( 17 )

[node name="Retry" type="Label" parent="UI/GameOver"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_top = 640.0
margin_right = 416.0
margin_bottom = 703.0
custom_colors/font_color = Color( 0, 0, 0, 1 )
custom_fonts/font = SubResource( 42 )
text = "Retry"
align = 1
valign = 1

[node name="Menu" type="Label" parent="UI/GameOver"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = 536.0
margin_top = 640.0
margin_right = 702.0
margin_bottom = 703.0
custom_colors/font_color = Color( 0, 0, 0, 1 )
custom_fonts/font = SubResource( 42 )
text = "Menu"
align = 1
valign = 1

[node name="Goal" type="Control" parent="UI"]
anchor_right = 1.0
anchor_bottom = 1.0

[node name="Bricks" type="RichTextLabel" parent="UI/Goal"]
visible = false
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -12.0
margin_top = 40.0
margin_right = 812.0
margin_bottom = 124.0
custom_fonts/normal_font = SubResource( 59 )
bbcode_enabled = true
bbcode_text = "[center]Bricks Broken: [color=yellow]0"
text = "Bricks Broken: 0"

[node name="Bricks2" type="RichTextLabel" parent="UI/Goal"]
visible = false
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -12.0
margin_top = 40.0
margin_right = 812.0
margin_bottom = 124.0
custom_fonts/normal_font = SubResource( 59 )
bbcode_enabled = true
bbcode_text = "[center]Final Score: [color=yellow]0"
text = "Final Score: 0"

[node name="WellDone" type="Label" parent="UI/Goal"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = 180.0
margin_top = 24.0
margin_right = 620.0
margin_bottom = 108.0
rect_scale = Vector2( 1e-05, 1e-05 )
rect_pivot_offset = Vector2( 220, 42 )
custom_colors/font_color = Color( 0.0470588, 1, 0, 1 )
custom_fonts/font = SubResource( 58 )
text = "Well Done!"

[node name="AnimationPlayer" type="AnimationPlayer" parent="UI/Goal"]
anims/RESET = SubResource( 61 )
anims/show_stats = SubResource( 60 )

[node name="Tween" type="Tween" parent="UI/Goal"]

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="UI/Goal"]
stream = ExtResource( 29 )
bus = "SFX"

[node name="Dead" type="AudioStreamPlayer" parent="UI"]
stream = ExtResource( 14 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="UI"]
anims/RESET = SubResource( 41 )
anims/gameover = SubResource( 40 )
anims/intro = SubResource( 47 )

[node name="BlackBars" type="Control" parent="UI"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_right = 800.0
margin_bottom = 600.0

[node name="Top" type="ColorRect" parent="UI/BlackBars"]
anchor_right = 1.0
margin_top = -64.0
margin_right = 140000.0
margin_bottom = -8.0
color = Color( 0, 0, 0, 1 )

[node name="Bot" type="ColorRect" parent="UI/BlackBars"]
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_top = 600.0
margin_right = 140000.0
margin_bottom = 656.0
color = Color( 0, 0, 0, 1 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="UI/BlackBars"]
anims/RESET = SubResource( 165 )
anims/in = SubResource( 166 )
anims/out = SubResource( 167 )

[node name="OneWay" type="StaticBody2D" parent="."]
position = Vector2( 3200, -72 )
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="NinePatchRect" parent="OneWay"]
margin_left = -48.0
margin_top = -8.0
margin_right = 432.0
margin_bottom = 8.0
texture = ExtResource( 6 )
patch_margin_left = 16
patch_margin_right = 16

[node name="CollisionShape2D" type="CollisionShape2D" parent="OneWay"]
position = Vector2( 192, 0 )
shape = SubResource( 22 )
one_way_collision = true
one_way_collision_margin = 10.0

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2( 0.5, 0.5 )
motion_mirroring = Vector2( 3200, 2400 )

[node name="Sprite" type="Sprite" parent="ParallaxBackground/ParallaxLayer"]
self_modulate = Color( 0.533333, 0.533333, 0.533333, 1 )
material = SubResource( 154 )
scale = Vector2( 2, 2 )
texture = ExtResource( 4 )
region_enabled = true
region_rect = Rect2( 0, 0, 1600, 1200 )

[node name="Chips" type="Node2D" parent="."]

[node name="Chip" parent="Chips" instance=ExtResource( 25 )]
position = Vector2( 1664, -16 )

[node name="Chip2" parent="Chips" instance=ExtResource( 25 )]
position = Vector2( 1712, -16 )
type = 1

[node name="Chip3" parent="Chips" instance=ExtResource( 25 )]
position = Vector2( 1616, -16 )

[node name="Fall" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 15 )
bus = "SFX"

[node name="Glass" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 13 )
bus = "SFX"

[node name="Win2" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 34 )
bus = "SFX"

[node name="Pause" parent="." instance=ExtResource( 26 )]

[node name="TileMap" type="TileMap" parent="."]
scale = Vector2( 2, 2 )
tile_set = SubResource( 102 )
cell_size = Vector2( 16, 16 )
format = 1
tile_data = PoolIntArray( 458739, 0, 0, 458740, 0, 0, 458741, 0, 0, 458742, 0, 0, 458743, 0, 0, 458744, 0, 0, 458745, 0, 0, 458746, 0, 0, 458747, 0, 0, 458748, 0, 0, 458749, 0, 0, 458750, 0, 0, 458751, 0, 0, 393216, 0, 0, 393217, 0, 0, 393218, 0, 0, 393219, 0, 0, 393220, 0, 0, 393221, 0, 0, 393222, 0, 0, 393223, 0, 0, 393224, 0, 0, 393225, 0, 0, 393226, 0, 0, 393227, 0, 0, 393228, 0, 0, 393229, 0, 0, 393230, 0, 0, 393231, 0, 0, 393232, 0, 0, 393233, 0, 0, 393234, 0, 0, 393235, 0, 0, 393236, 0, 0, 393237, 0, 0, 524275, 1, 0, 524276, 1, 0, 524277, 1, 0, 524278, 1, 0, 524279, 1, 0, 524280, 1, 0, 524281, 1, 0, 524282, 1, 0, 524283, 1, 0, 524284, 1, 0, 524285, 1, 0, 524286, 1, 0, 524287, 1, 0, 458752, 1, 0, 458753, 1, 0, 458754, 1, 0, 458755, 1, 0, 458756, 1, 0, 458757, 1, 0, 458758, 1, 0, 458759, 1, 0, 458760, 1, 0, 458761, 1, 0, 458762, 1, 0, 458763, 1, 0, 458764, 1, 0, 458765, 1, 0, 458766, 1, 0, 458767, 1, 0, 458768, 1, 0, 458769, 1, 0, 458770, 1, 0, 458771, 1, 0, 458772, 1, 0, 458773, 1, 0, 589811, 1, 0, 589812, 1, 0, 589813, 1, 0, 589814, 1, 0, 589815, 1, 0, 589816, 1, 0, 589817, 1, 0, 589818, 1, 0, 589819, 1, 0, 589820, 1, 0, 589821, 1, 0, 589822, 1, 0, 589823, 1, 0, 524288, 1, 0, 524289, 1, 0, 524290, 1, 0, 524291, 1, 0, 524292, 1, 0, 524293, 1, 0, 524294, 1, 0, 524295, 1, 0, 524296, 1, 0, 524297, 1, 0, 524298, 1, 0, 524299, 1, 0, 524300, 1, 0, 524301, 1, 0, 524302, 1, 0, 524303, 1, 0, 524304, 1, 0, 524305, 1, 0, 524306, 1, 0, 524307, 1, 0, 524308, 1, 0, 524309, 1, 0, 655347, 1, 0, 655348, 1, 0, 655349, 1, 0, 655350, 1, 0, 655351, 1, 0, 655352, 1, 0, 655353, 1, 0, 655354, 1, 0, 655355, 1, 0, 655356, 1, 0, 655357, 1, 0, 655358, 1, 0, 655359, 1, 0, 589824, 1, 0, 589825, 1, 0, 589826, 1, 0, 589827, 1, 0, 589828, 1, 0, 589829, 1, 0, 589830, 1, 0, 589831, 1, 0, 589832, 1, 0, 589833, 1, 0, 589834, 1, 0, 589835, 1, 0, 589836, 1, 0, 589837, 1, 0, 589838, 1, 0, 589839, 1, 0, 589840, 1, 0, 589841, 1, 0, 589842, 1, 0, 589843, 1, 0, 589844, 1, 0, 589845, 1, 0 )

[node name="Texture" type="NinePatchRect" parent="."]
self_modulate = Color( 1, 0, 0, 1 )
show_behind_parent = true
anchor_left = -1.21
anchor_top = 0.173333
anchor_right = -1.21
anchor_bottom = 0.293333
margin_left = 448.0
margin_top = -104.0
margin_right = 832.0
margin_bottom = 40.0
texture = ExtResource( 8 )
region_rect = Rect2( 0, 0, 32, 32 )
patch_margin_left = 2
patch_margin_top = 2
patch_margin_right = 2
patch_margin_bottom = 2
__meta__ = {
"_edit_group_": true,
"_edit_use_anchors_": true
}

[node name="RichTextLabel" type="RichTextLabel" parent="Texture"]
margin_left = 8.0
margin_top = 8.0
margin_right = 376.0
margin_bottom = 64.0
rect_clip_content = false
custom_colors/default_color = Color( 1, 1, 1, 1 )
custom_fonts/bold_font = SubResource( 137 )
custom_fonts/normal_font = SubResource( 138 )
bbcode_enabled = true
fit_content_height = true

[node name="Audio" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 10 )
bus = "SFX"

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/RESET = SubResource( 139 )
anims/grulo_shake = SubResource( 158 )
anims/hide_box = SubResource( 164 )
anims/show_t = SubResource( 157 )
anims/super = SubResource( 162 )
anims/textbox = SubResource( 140 )
anims/throw = SubResource( 141 )
anims/transform = SubResource( 142 )

[node name="Sprite" type="Sprite" parent="."]
visible = false
position = Vector2( 128, 152 )
scale = Vector2( 2, 2 )
texture = ExtResource( 12 )

[node name="Beam" type="Sprite" parent="."]
position = Vector2( -224, -104 )
scale = Vector2( 2, 1e-05 )
texture = ExtResource( 21 )

[node name="BOOM" parent="." instance=ExtResource( 35 )]
position = Vector2( -224, 224 )
frame = 0
playing = false

[node name="Grulo" type="AnimatedSprite" parent="."]
self_modulate = Color( 0, 0, 0, 0 )
position = Vector2( -224, -112 )
scale = Vector2( 2, 2 )
frames = SubResource( 144 )
offset = Vector2( -5, 0 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="Grulo"]
anims/RESET = SubResource( 151 )
anims/float = SubResource( 152 )
anims/go_away = SubResource( 163 )

[node name="TBack" type="Sprite" parent="."]
position = Vector2( 200, -424 )
scale = Vector2( 2, 2 )
texture = ExtResource( 31 )

[node name="T1" type="Sprite" parent="TBack"]
self_modulate = Color( 0, 0, 0, 1 )
position = Vector2( -60, 16 )
texture = ExtResource( 24 )

[node name="T2" type="Sprite" parent="TBack"]
self_modulate = Color( 0, 0, 0, 1 )
position = Vector2( -20, 16 )
texture = ExtResource( 23 )

[node name="T3" type="Sprite" parent="TBack"]
self_modulate = Color( 0, 0, 0, 1 )
position = Vector2( 20, 16 )
texture = ExtResource( 22 )

[node name="T4" type="Sprite" parent="TBack"]
self_modulate = Color( 0, 0, 0, 1 )
position = Vector2( 60, 16 )
texture = ExtResource( 30 )

[node name="Nope" type="AudioStreamPlayer" parent="TBack"]
stream = ExtResource( 32 )

[node name="Yeah" type="AudioStreamPlayer" parent="TBack"]
stream = ExtResource( 33 )

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 36 )
bus = "SFX"
